@using PantryPlusRecipe.ViewModels

@model RegisterViewModel
<div class="container bg-light bg-gradient p-5 border rounded-3">
  <div class="mx-5 p-5 border rounded shadow-sm bg-white">
    <h3 class="mb-4">@ViewBag.PageTitle</h3>
    <div class="row">
      <div class="col-7">
        @if (ViewBag.KrogerId != null)
        {
          <p>Thanks! We've got your Id from Kroger. We just need a couple more bits of info to complete your registration.</p>
        }
        @using (Html.BeginForm("Register", "Account", FormMethod.Post))
        {
          @Html.LabelFor(m => m.FirstName, "First Name")
          @Html.TextBoxFor(m => m.FirstName, new {@class="form-control mb-3 shadow-sm", required="required" })

          @Html.LabelFor(m => m.LastName, "Last Name")
          @Html.TextBoxFor(m => m.LastName, new {@class="form-control mb-3 shadow-sm", required="required" })

          @Html.LabelFor(m => m.Email)
          @Html.TextBoxFor(m => m.Email, new {@class="form-control mb-3 shadow-sm", type="email", required="required" })

          @if (ViewBag.KrogerId == null)
          {
            @Html.LabelFor(m => m.Password)
            @Html.PasswordFor(m => m.Password, new {@class="form-control mb-3 shadow-sm", required="required"})

            @Html.LabelFor(m => m.ConfirmPassword)
            @Html.PasswordFor(m => m.ConfirmPassword, new {@class="form-control mb-3 shadow-sm", required="required"})
          }
          else
          {
            <input data-val="true" data-val-required="The Kroger Id field is required." id="KrogerId" name="KrogerId" type="hidden" value="@ViewBag.KrogerId">
          }
          <input type="submit" value="Register" class="btn btn-primary mb-3 shadow-sm text-white" />

        }
        @if (ViewBag.KrogerId == null)
        {
          <div class="card bg-light shadow-sm mt-3 rounded">
            <div class="card-body">
              <p class="card-text">Alternatively, use your Kroger account to register and login instead of an email and password.
              </p>
              <a href="/GetAuthorizationCode"><input type="button" value="Register With Kroger" class="btn btn-primary mb-3 shadow-sm text-white" /></a>
            </div>
          </div>
        }
      </div>
      <div class="col-5">
        <p>Use the form to the left to register an account with PantryPlus.Recipes</p>
        <p class="text-dark">Already have an account? Login <a href="/" class="link-dark text-decoration-underline">here</a></p>
      </div>
    </div>
  </div>
</div>
